<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YNG LITE Retreat 2025</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #94cb3c;
            --secondary: #023a5b;
            --accent: #ffffff;
            --text-dark: #333;
            --text-light: #666;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        /* Navbar */
        .navbar {
            background: var(--secondary);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar a {
            color: var(--accent);
            padding: 16px 20px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .navbar a:hover,
        .navbar a.active {
            background: var(--primary);
            color: var(--secondary);
        }

        /* Header */
        .header-section {
            background: linear-gradient(135deg, var(--secondary) 0%, #034a73 100%);
            color: var(--accent);
            padding: 100px 20px 60px;
            text-align: center;
            margin-top: 48px;
        }

        .header-section h1 {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 15px;
            animation: fadeInDown 0.8s ease;
        }

        .header-section p {
            font-size: 1.2em;
            font-weight: 300;
            opacity: 0.9;
            animation: fadeInUp 0.8s ease;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
        }

        /* Cards */
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .feature-card {
            background: var(--accent);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
            border: 3px solid transparent;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(148, 203, 60, 0.3);
            border-color: var(--primary);
        }

        .feature-card i {
            font-size: 3em;
            color: var(--primary);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .feature-card:hover i {
            transform: scale(1.1);
            color: var(--secondary);
        }

        .feature-card h3 {
            color: var(--secondary);
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .feature-card p {
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Weather Widget */
        .weather-widget {
            background:
                linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.5)),
                url('assets/darjeeling.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: var(--accent);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            animation: fadeInScale 0.8s ease-out;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .weather-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .weather-header i {
            font-size: 2em;
        }

        .weather-header h3 {
            font-size: 1.5em;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        .weather-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 20px;
            margin: 0 -10px;
        }

        .weather-main {
            text-align: center;
        }

        .weather-temp {
            font-size: 3.5em;
            font-weight: 700;
            margin: 15px 0;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.8);
        }

        .weather-desc {
            font-size: 1.2em;
            opacity: 0.9;
            text-transform: capitalize;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        .weather-details {
            text-align: left;
        }

        .weather-detail {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        .weather-detail:last-child {
            border-bottom: none;
        }

        .weather-loading {
            padding: 40px 20px;
            text-align: center;
        }

        .weather-error {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            backdrop-filter: blur(5px);
        }

        .weather-update-time {
            font-size: 0.8em;
            opacity: 0.7;
            margin-top: 15px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
        }

        /* Weather icon enhancements */
        .weather-icon i {
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.6));
        }

        /* Responsive design for mobile */
        @media (max-width: 768px) {
            .weather-widget {
                min-height: 250px;
                padding: 20px;
            }

            .weather-content {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 15px;
            }

            .weather-details {
                text-align: center;
            }

            .weather-temp {
                font-size: 3em;
            }

            .weather-header h3 {
                font-size: 1.3em;
            }
        }

        /* Instructions Section */
        .instructions-section {
            background: var(--accent);
            border-radius: 20px;
            padding: 0;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }

        .instructions-section.active {
            max-height: 1000px;
            padding: 30px;
        }

        .instructions-section h3 {
            color: var(--secondary);
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .instructions-section ul {
            list-style: none;
            padding: 0;
        }

        .instructions-section li {
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .instructions-section li i {
            color: var(--primary);
            margin-right: 10px;
        }

        /* Footer */
        .footer {
            background: var(--secondary);
            color: var(--accent);
            text-align: center;
            padding: 30px 20px;
            margin-top: 60px;
        }

        .footer p {
            margin: 5px 0;
        }

        /* Scroll to Top Button */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary);
            color: var(--secondary);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 999;
        }

        .scroll-top.show {
            opacity: 1;
        }

        .scroll-top:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-5px);
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-section h1 {
                font-size: 2em;
            }

            .header-section p {
                font-size: 1em;
            }

            .navbar a {
                padding: 12px 15px;
                font-size: 0.9em;
            }

            .card-container {
                grid-template-columns: 1fr;
            }

            .weather-content {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .weather-details {
                text-align: center;
            }

            .scroll-top {
                width: 45px;
                height: 45px;
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <div class="navbar">
        <a href="index.html" class="active"><i class="fas fa-home"></i> Home</a>
        <a href="schedule.html"><i class="fas fa-calendar-alt"></i> Schedule</a>
        <a href="groups.html"><i class="fas fa-users"></i> Groups</a>
    </div>

    <!-- Header Section -->
    <div class="header-section">
        <h1><i class="fas fa-mountain"></i> Welcome to YNG LITE Retreat 2025</h1>
        <p>Your quick guide through the 4-day journey</p>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Weather Widget -->
        <div class="weather-widget" id="weatherWidget">
            <div class="weather-header">
                <i class="fas fa-map-marker-alt"></i>
                <h3>Darjeeling Weather</h3>
            </div>
        <div class="weather-loading" id="weatherLoading">
            <div class="spinner" style="border: 3px solid rgba(255,255,255,0.3); border-top: 3px solid var(--accent); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 15px;"></div>
            <p>Loading weather data...</p>
        </div>
        <div class="weather-content" id="weatherContent" style="display: none;">
            <div class="weather-main">
                <div class="weather-icon" id="weatherIcon">
                    <i class="fas fa-sun" style="font-size: 4em;"></i>
                </div>
                <div class="weather-temp" id="weatherTemp">--째C</div>
                <div class="weather-desc" id="weatherDesc">Loading...</div>
            </div>
        <div class="weather-details">
            <div class="weather-detail">
                <span><i class="fas fa-temperature-low"></i> Feels like:</span>
                <span id="feelsLike">--째C</span>
            </div>
            <div class="weather-detail">
                <span><i class="fas fa-tint"></i> Humidity:</span>
                <span id="humidity">--%</span>
            </div>
            <div class="weather-detail">
                <span><i class="fas fa-wind"></i> Wind:</span>
                <span id="windSpeed">-- km/h</span>
            </div>
            <div class="weather-detail">
                <span><i class="fas fa-cloud-rain"></i> Rain:</span>
                <span id="precipitation">-- mm</span>
            </div>
        </div>
        </div>
            <div class="weather-update-time" id="weatherUpdateTime"></div>
            <div class="weather-error" id="weatherError" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <p>Unable to load weather data. Please check your connection.</p>
            </div>
        </div>

        <!-- Feature Cards -->
        <div class="card-container">
            <!-- Instructions Card -->
            <div class="feature-card" onclick="toggleInstructions()">
                <i class="fas fa-info-circle"></i>
                <h3>Instructions</h3>
                <p>Click to view retreat guidelines and important information</p>
            </div>

            <!-- Schedule Card -->
            <div class="feature-card" onclick="location.href='schedule.html'">
                <i class="fas fa-calendar-alt"></i>
                <h3>Schedule</h3>
                <p>View the complete 4-day retreat schedule and activities</p>
            </div>

            <!-- Groups Card -->
            <div class="feature-card" onclick="location.href='groups.html'">
                <i class="fas fa-users"></i>
                <h3>Find Your Groups</h3>
                <p>Search for your name and discover your assigned group</p>
            </div>
        </div>

        <!-- Instructions Section (Expandable) -->
        <div class="instructions-section" id="instructionsPanel">
            <h3><i class="fas fa-clipboard-list"></i> Retreat Instructions</h3>
            <ul>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>Check-in Time:</strong> Arrival at Darjeeling retreat center by 12:00 PM on Day 1
                </li>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>What to Bring:</strong> Comfortable clothing, toiletries, notebook/pen, water bottle, and an
                    open heart
                </li>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>Meals:</strong> All meals are provided. Please inform us of any dietary restrictions
                </li>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>Group Activities:</strong> Find your group using the "Find Your Groups" section
                </li>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>Mobile Phones:</strong> We encourage minimal phone usage to maximize your retreat experience
                </li>
                <li>
                    <i class="fas fa-check-circle"></i>
                    <strong>Emergency Contact:</strong> For urgent matters, contact the retreat coordinator at [Phone
                    Number]
                </li>
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p><i class="fas fa-heart"></i> YNG LITE Retreat 2025</p>
        <p>&copy; 2025 All Rights Reserved</p>
    </div>

    <!-- Scroll to Top Button -->
    <div class="scroll-top" id="scrollTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // ====================================
        // WEATHER WIDGET WITH OPEN-METEO
        // ====================================
        async function loadWeather() {
            // Darjeeling coordinates
            const latitude = 27.0360;
            const longitude = 88.2627;

            // Open-Meteo API URL - NO API KEY NEEDED!
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,weather_code,wind_speed_10m&timezone=auto`;

            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Weather service unavailable');
                }

                const data = await response.json();
                displayWeather(data);

            } catch (error) {
                console.error('Error loading weather:', error);
                showWeatherError();
            }
        }

        function displayWeather(data) {
            const loading = document.getElementById('weatherLoading');
            const content = document.getElementById('weatherContent');
            const error = document.getElementById('weatherError');

            loading.style.display = 'none';
            error.style.display = 'none';
            content.style.display = 'grid';

            const current = data.current;

            // Update weather information
            document.getElementById('weatherTemp').textContent = `${Math.round(current.temperature_2m)}째C`;
            document.getElementById('weatherDesc').textContent = getWeatherDescription(current.weather_code);
            document.getElementById('feelsLike').textContent = `${Math.round(current.apparent_temperature)}째C`;
            document.getElementById('humidity').textContent = `${current.relative_humidity_2m}%`;
            document.getElementById('windSpeed').textContent = `${Math.round(current.wind_speed_10m)} km/h`;
            document.getElementById('precipitation').textContent = `${current.precipitation} mm`;

            // Update weather icon
            const weatherIcon = document.getElementById('weatherIcon');
            const iconClass = getWeatherIconClass(current.weather_code);
            weatherIcon.innerHTML = `<i class="fas ${iconClass}" style="font-size: 4em;"></i>`;

            // Update timestamp
            const updateTime = document.getElementById('weatherUpdateTime');
            const now = new Date();
            updateTime.textContent = `Updated: ${now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
        }

        function getWeatherDescription(weatherCode) {
            const weatherMap = {
                0: 'clear sky',
                1: 'mainly clear',
                2: 'partly cloudy',
                3: 'overcast',
                45: 'foggy',
                48: 'depositing rime fog',
                51: 'light drizzle',
                53: 'moderate drizzle',
                55: 'dense drizzle',
                56: 'light freezing drizzle',
                57: 'dense freezing drizzle',
                61: 'slight rain',
                63: 'moderate rain',
                65: 'heavy rain',
                66: 'light freezing rain',
                67: 'heavy freezing rain',
                71: 'slight snow fall',
                73: 'moderate snow fall',
                75: 'heavy snow fall',
                77: 'snow grains',
                80: 'slight rain showers',
                81: 'moderate rain showers',
                82: 'violent rain showers',
                85: 'slight snow showers',
                86: 'heavy snow showers',
                95: 'thunderstorm',
                96: 'thunderstorm with slight hail',
                99: 'thunderstorm with heavy hail'
            };

            return weatherMap[weatherCode] || 'unknown';
        }

        function getWeatherIconClass(weatherCode) {
            const iconMap = {
                0: 'fa-sun',           // clear sky
                1: 'fa-sun',           // mainly clear
                2: 'fa-cloud-sun',     // partly cloudy
                3: 'fa-cloud',         // overcast
                45: 'fa-smog',         // fog
                48: 'fa-smog',         // fog
                51: 'fa-cloud-rain',   // drizzle
                53: 'fa-cloud-rain',
                55: 'fa-cloud-rain',
                56: 'fa-cloud-rain',
                57: 'fa-cloud-rain',
                61: 'fa-cloud-rain',   // rain
                63: 'fa-cloud-rain',
                65: 'fa-cloud-showers-heavy',
                66: 'fa-cloud-rain',
                67: 'fa-cloud-showers-heavy',
                71: 'fa-snowflake',    // snow
                73: 'fa-snowflake',
                75: 'fa-snowflake',
                77: 'fa-snowflake',
                80: 'fa-cloud-rain',   // rain showers
                81: 'fa-cloud-showers-heavy',
                82: 'fa-cloud-showers-heavy',
                85: 'fa-snowflake',    // snow showers
                86: 'fa-snowflake',
                95: 'fa-bolt',         // thunderstorm
                96: 'fa-bolt',
                99: 'fa-bolt'
            };

            return iconMap[weatherCode] || 'fa-cloud';
        }

        function showWeatherError() {
            const loading = document.getElementById('weatherLoading');
            const content = document.getElementById('weatherContent');
            const error = document.getElementById('weatherError');

            loading.style.display = 'none';
            content.style.display = 'none';
            error.style.display = 'block';
        }

        // ====================================
        // EXISTING FUNCTIONALITY
        // ====================================
        function toggleInstructions() {
            const panel = document.getElementById('instructionsPanel');
            panel.classList.toggle('active');
        }

        window.onscroll = function () {
            const scrollTop = document.getElementById('scrollTop');
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollTop.classList.add('show');
            } else {
                scrollTop.classList.remove('show');
            }
        };

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize weather widget
        document.addEventListener('DOMContentLoaded', function () {
            loadWeather();
            // Refresh every 30 minutes
            setInterval(loadWeather, 30 * 60 * 1000);
        });
    </script>
</body>

</html>